jtype: Flow
executors:
- name: Encoder_1
  uses: jinahub+docker://FinetunerExecutor
  uses_requests:
    '/query_text': encode
    '/index_text': encode
  uses_with:
    artifact: ${{ ENV.SBERT_ARTIFACT }}
    token: ${{ ENV.JINA_TOKEN }}
- name: Encoder_2
  uses: jinahub+docker://FinetunerExecutor
  uses_requests:
    '/query_vision_text': encode
  uses_with:
    artifact: ${{ ENV.CLIP_ARTIFACT }}
    token: ${{ ENV.JINA_TOKEN }}
    select_model: clip-text
- name: Encoder_3
  uses: jinahub+docker://FinetunerExecutor
  uses_requests:
    '/index_vision': encode
  uses_with:
    artifact: ${{ ENV.CLIP_ARTIFACT }}
    token: ${{ ENV.JINA_TOKEN }}
    select_model: clip-vision
